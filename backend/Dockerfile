# backend/Dockerfile

FROM python:3.13.5  
# Python 3.13.5 ì´ë¯¸ì§€ ì‚¬ìš©

WORKDIR /backend  
# ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •

COPY ./backend ./
COPY ./requirements.txt ./requirements.txt
COPY ./backend/GeoLite2-Country.mmdb ./backend/GeoLite2-Country.mmdb

# GeoIP DB í™˜ê²½ ë³€ìˆ˜ í™œìš©ì„ ìœ„í•œ ì„ ì–¸
ENV GEOIP_DB_PATH=/backend/GeoLite2-Country.mmdb
# ë””ë²„ê¹…ìš© íŒŒì¼ ëª©ë¡ í™•ì¸
RUN echo "ğŸ“ ë°±ì—”ë“œ ë””ë ‰í† ë¦¬ ë¦¬ìŠ¤íŠ¸:" && ls -al /backend
RUN echo "ğŸ“ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ë¦¬ìŠ¤íŠ¸:" && ls -al /

RUN pip install --no-cache-dir -r requirements.txt  


CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]